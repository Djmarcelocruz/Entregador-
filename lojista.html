// Substitua a função buscarBairroAutomatico por esta versão "Local"

window.buscarBairroAutomatico = () => {
    const end = document.getElementById('inputEnd').value.toUpperCase();
    const selBairro = document.getElementById('bairro');
    const status = document.getElementById('statusBusca');

    // TABELA DE INTELIGÊNCIA LOCAL (Exemplos - Você pode adicionar mais ruas aqui)
    const ruasQuintana = {
        "VILA CAMPANTE": ["RUI BARBOSA", "MARECHAL DEODORO", "SETEMBRO"],
        "JD. EUROPA": ["MADRI", "LISBOA", "PARIS", "LONDRES"],
        "JD. AMÉRICA": ["NOVA IORQUE", "CHICAGO", "MIAMI"],
        "CENTRO": ["MATRIZ", "COMÉRCIO", "AVENIDA PRINCIPAL"],
        "VILA SÃO JOSÉ": ["SÃO PAULO", "SANTO ANTÔNIO"]
    };

    let bairroEncontrado = false;

    // Varre a tabela para ver se a rua digitada pertence a algum bairro
    for (const [bairro, ruas] of Object.entries(ruasQuintana)) {
        ruas.forEach(rua => {
            if (end.includes(rua)) {
                selBairro.value = bairro;
                bairroEncontrado = true;
            }
        });
    }

    if (bairroEncontrado) {
        status.innerText = "Bairro Identificado! ✅";
        status.className = "text-[8px] font-black text-green-500 uppercase italic";
    } else {
        status.innerText = "Bairro não identificado (Selecione Manual)";
        status.className = "text-[8px] font-black text-orange-400 uppercase italic";
    }
};
